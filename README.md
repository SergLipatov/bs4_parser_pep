# Парсер документации Python и PEP

[![Python](https://img.shields.io/badge/Python-3.7%2B-blue)](https://www.python.org/)
[![BeautifulSoup](https://img.shields.io/badge/BeautifulSoup-4.9-green)](https://www.crummy.com/software/BeautifulSoup/)
[![License](https://img.shields.io/badge/License-MIT-yellow)](https://opensource.org/licenses/MIT)

## О проекте

Парсер документации Python - это консольная утилита для сбора и анализа информации из официальной документации Python и PEP (Python Enhancement Proposals). Проект предоставляет следующие возможности:

- Сбор информации о нововведениях в разных версиях Python
- Анализ статусов PEP документов
- Генерация отчетов в различных форматах (консоль, CSV)
- Кеширование запросов для уменьшения нагрузки на серверы

### Ключевые особенности:
- Поддержка нескольких режимов работы
- Валидация соответствия статусов PEP
- Гибкая система вывода результатов
- Логирование всех операций
- Обработка ошибок и исключительных ситуаций

## Технологии

- **Python 3.7+**
- **BeautifulSoup4** - парсинг HTML контента
- **Requests-Cache** - кеширование HTTP запросов
- **PrettyTable** - форматированный вывод в консоль
- **tqdm** - индикатор прогресса для длительных операций
- **Argparse** - обработка аргументов командной строки
- **Logging** - система логирования с ротацией файлов

---

## Установка и настройка

### Требования

- Python 3.7 или новее
- pip (менеджер пакетов Python)

### Установка зависимостей

1. Клонируйте репозиторий:
```bash
git clone https://github.com/SergLipatov/bs4_parser_pep
cd bs4_parser_pep
```

2. Установите зависимости:
```bash
pip install -r requirements.txt
```

### Структура проекта

```
bs4_parser_pep/
├── src/
│   ├── configs.py          # Конфигурация аргументов и логирования
│   ├── constants.py        # Константы и настройки
│   ├── exceptions.py       # Пользовательские исключения
│   ├── main.py            # Основная логика парсера
│   ├── outputs.py          # Форматы вывода результатов
│   └── utils.py           # Вспомогательные функции
├── logs/                  # Директория для логов
├── results/               # Директория для результатов
└── downloads/             # Директория для загрузок
```

---

## Использование

### Основные команды

Запуск парсера с выводом справки:
```bash
python src/main.py -h
```

### Режимы работы

1. **Что нового в Python** (whats-new):
```bash
python src/main.py whats-new
```

2. **Последние версии Python** (latest-versions):
```bash
python src/main.py latest-versions
```

3. **Загрузка документации** (download):
```bash
python src/main.py download
```

4. **Анализ PEP** (pep):
```bash
python src/main.py pep
```

### Дополнительные опции

Очистка кеша:
```bash
python src/main.py <режим> --clear-cache
```

Вывод в формате таблицы:
```bash
python src/main.py <режим> --output pretty
```

Сохранение результатов в файл:
```bash
python src/main.py <режим> --output file
```

### Примеры использования

Анализ PEP с очисткой кеша и сохранением в файл:
```bash
python src/main.py pep --clear-cache --output file
```

Просмотр нововведений с красивым выводом:
```bash
python src/main.py whats-new --output pretty
```

---

## Особенности реализации

### Кеширование запросов
- Автоматическое кеширование HTTP-запросов с помощью requests-cache
- Возможность принудительной очистки кеша через аргумент `--clear-cache`
- Уменьшение нагрузки на серверы документации

### Валидация PEP
- Проверка соответствия статусов в общем списке и индивидуальных карточках PEP
- Детальное логирование несоответствий
- Поддержка всех стандартных статусов PEP (Active, Accepted, Withdrawn и др.)

### Система вывода
- Поддержка трех форматов вывода: простой текст, форматированная таблица, CSV файл
- Автоматическое создание директорий для результатов и логов
- Информативное логирование процесса работы

### Обработка ошибок
- Кастомные исключения для обработки ошибок парсинга
- Устойчивость к сетевым ошибкам и изменениям структуры сайта
- Детальное логирование ошибок с stack trace

---

## Примеры вывода

### Режим PEP (сводка)
```
Status    Count
-------   -----
Active    150
Accepted  95
Final     80
Draft     45
Total     370
```

### Режим latest-versions
```
Ссылка на документацию    Версия    Статус
---------------------    -------   ------
/3.12/                   3.12      in development
/3.11/                   3.11      stable
/3.10/                   3.10      security-fixes
```

---

## Автор

Сергей Липатов 
[SergLipatov](https://github.com/SergLipatov)